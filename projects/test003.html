<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS-NooBz</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body>
    <section class="header">
      <a href="../index.html">
        <h1>JS-NooBz</h1>
      </a>
    </section>

    <canvas id="canvas"></canvas>
    <script>
      window.onload = function () {
        canv = document.getElementById("canvas");
        draw = canv.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight - 160;
        initial();
        setInterval(loop, 1000 / 40);
        console.log("Use 'WASD' to move");
      };

      function initial() {
        Player = new player();
        window.addEventListener("keydown", keyPressDown);
        window.addEventListener("keyup", keyPressUp);
      }

      function loop() {
        //Background
        draw.fillStyle = "rgba(0,0,0,0.4)";
        draw.fillRect(0, 0, canv.width, canv.height);

        //Main code
        Player.update();
        Player.draw();
      }

      class player {
        constructor() {
          this.positionX = 50;
          this.positionY = 50;
          this.width = 90;
          this.height = 90;
          this.color = "rgba(250,250,0,1)";
          this.velocityX = 0;
          this.velocityY = 0;
        }
        update() {
          if (this.velocityX != 0 && this.velocityY != 0) {
          } else if (this.velocityY != 0) {
            this.positionY += this.velocityY;
          } else if (this.velocityX != 0) {
            this.positionX += this.velocityX;
          }
        }
        draw() {
          draw.fillStyle = this.color;
          draw.fillRect(
            this.positionX,
            this.positionY,
            this.width,
            this.height,
          );
        }
      }

      function keyPressDown(event) {
        if (event.keyCode == 87) {
          //w
          Player.velocityY = -15;
        } else if (event.keyCode == 83) {
          //s
          Player.velocityY = 15;
        } else if (event.keyCode == 68) {
          //d
          Player.velocityX = 15;
        } else if (event.keyCode == 65) {
          //a
          Player.velocityX = -15;
        }
      }

      function keyPressUp(event) {
        if (event.keyCode == 87) {
          //w
          Player.velocityY = 0;
        } else if (event.keyCode == 83) {
          //s
          Player.velocityY = 0;
        } else if (event.keyCode == 68) {
          //d
          Player.velocityX = 0;
        } else if (event.keyCode == 65) {
          //a
          Player.velocityX = 0;
        }
      }

      //end
    </script>

    <section class="footer">
      <a href="https://github.com/juhair-cupcake/JS">Bottom Text</a>
    </section>
  </body>
</html>
